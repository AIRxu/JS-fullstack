<script>
  function Animal(live, food) {
    this.live = live;
    this.food = food
  }
  let cat = new Animal('land', 'fish');
  console.log(cat instanceof Animal);
  let arr = [];
  console.log(arr instanceof Array);
  let p = new Promise(() => {});
  console.log(p instanceof Promise);
  console.log(Object instanceof Function);
  console.log(Function instanceof Object);
  // instanceof的原理：
  // 看左边对象的原型链上能不能找到 构造函数的原型属性 .prototype
  // 如果能找到就返回true 不能则返回false
  function instance_of(obj, constructor) {
    let prototype = constructor.prototype;
    let proto = Object.getPrototypeOf(obj);
    while(true) {
      if(proto === null) {
        return false;
      } else if(proto === prototype) {
        return true;
      }
      // 每一次循环都会找到当前obj的下一个原型指向哪里，第一次当然是找obj的下一个原型对象
      proto = Object.getPrototypeOf(proto);
    }
  }
  console.log(instance_of(Function, Object));
  console.log(instance_of(Object, Function));
  console.log(instance_of(cat, Animal));
  console.log(instance_of(arr, Array));
</script>